---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Hero from "../components/Hero.astro";
import Values from "../components/Values.astro";
import Expertise from "../components/Expertise.astro";
import Equipe from "../components/Equipe.astro";
import Faq from "../components/Faq.astro";
import Contact from "../components/Contact.astro";

import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
---

<!doctype html>
<html lang="fr">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <!-- Chargement direct des polices pour Safari -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+Pro:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <Header />
    <main class="w-full">
      <div class="max-w-[90%] mx-auto">
        <Hero />
        <Values />
        <Expertise />
        <Equipe />
        <Faq />
        <Contact />
      </div>
    </main>
    <Footer />
    <script>
      function initAnimations() {
        const options = {
          root: null,
          rootMargin: "0px",
          threshold: 0.1,
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("is-visible");
            }
          });
        }, options);

        document.querySelectorAll("[data-animate]").forEach((el) => {
          observer.observe(el);
        });
      }

      // S'assurer que le DOM est charg√©
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initAnimations);
      } else {
        initAnimations();
      }
    </script>
  </body>
</html>
