---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Gestion des Cookies | Cabinet Fiscal Expert">
  <main class="py-20 px-4 sm:px-6 lg:px-8 max-w-5xl mx-auto">
    <div class="mb-12 text-center">
      <h1 class="text-4xl font-bold text-gray-900 welcome-font mb-4">
        Gestion des Cookies
      </h1>
      <div class="w-20 h-1 bg-primary mx-auto rounded-full"></div>
    </div>

    <div class="prose prose-lg max-w-none">
      <section class="mb-12">
        <h2 class="text-2xl font-semibold text-gray-800 welcome-font mb-4">
          Qu'est-ce qu'un cookie ?
        </h2>
        <p>
          Un cookie est un petit fichier texte déposé sur votre terminal
          (ordinateur, tablette, smartphone) lors de votre visite sur notre site
          web. Il permet de stocker des informations relatives à votre
          navigation et de vous offrir une expérience personnalisée.
        </p>
        <p>
          Les cookies sont utilisés pour diverses finalités : assurer le bon
          fonctionnement du site, mémoriser vos préférences, réaliser des
          statistiques de visite, vous proposer des contenus adaptés à vos
          centres d'intérêt, ou encore permettre le partage sur les réseaux
          sociaux.
        </p>
      </section>

      <section class="mb-12">
        <h2 class="text-2xl font-semibold text-gray-800 welcome-font mb-4">
          Les différents types de cookies que nous utilisons
        </h2>

        <h3 class="text-xl font-semibold text-gray-700 welcome-font mb-2 mt-6">
          Cookies strictement nécessaires
        </h3>
        <p>
          Ces cookies sont indispensables au fonctionnement de notre site web.
          Ils vous permettent d'utiliser les principales fonctionnalités du site
          (par exemple, l'accès à votre compte). Sans ces cookies, vous ne
          pourriez pas utiliser notre site normalement. Ces cookies ne
          nécessitent pas votre consentement.
        </p>

        <h3 class="text-xl font-semibold text-gray-700 welcome-font mb-2 mt-6">
          Cookies fonctionnels
        </h3>
        <p>
          Ces cookies permettent de mémoriser vos préférences, vos choix afin de
          vous faciliter la navigation lors de vos prochaines visites (par
          exemple, la langue que vous avez choisie). Ils permettent également
          d'adapter la présentation du site aux préférences d'affichage de votre
          terminal.
        </p>

        <h3 class="text-xl font-semibold text-gray-700 welcome-font mb-2 mt-6">
          Cookies analytiques ou de performance
        </h3>
        <p>
          Ces cookies collectent des informations sur votre utilisation du site,
          comme les pages que vous visitez le plus souvent. Ces données nous
          permettent d'optimiser et d'améliorer notre site web. Ces cookies nous
          permettent également de détecter des problèmes de navigation et
          d'améliorer l'ergonomie de notre site.
        </p>

        <h3 class="text-xl font-semibold text-gray-700 welcome-font mb-2 mt-6">
          Cookies de ciblage ou publicitaires
        </h3>
        <p>
          Ces cookies permettent de vous proposer des publicités adaptées à vos
          centres d'intérêt, tant sur notre site que sur d'autres sites. Ils
          sont généralement placés par des réseaux publicitaires avec notre
          permission. Ils permettent de savoir que vous avez visité notre site
          et cette information peut être partagée avec d'autres organisations,
          comme des annonceurs.
        </p>

        <h3 class="text-xl font-semibold text-gray-700 welcome-font mb-2 mt-6">
          Cookies de réseaux sociaux
        </h3>
        <p>
          Ces cookies permettent de partager votre activité sur notre site avec
          des sociétés de réseaux sociaux comme Facebook, Twitter ou LinkedIn.
          Nous n'avons pas de contrôle sur ces cookies qui sont installés par
          ces services.
        </p>
      </section>

      <section class="mb-12">
        <h2 class="text-2xl font-semibold text-gray-800 welcome-font mb-4">
          Liste des cookies utilisés
        </h2>
        <p>Voici la liste des cookies que nous utilisons sur notre site :</p>

        <div class="overflow-x-auto mt-4">
          <table class="min-w-full bg-white border border-gray-300">
            <thead>
              <tr>
                <th class="py-2 px-4 border-b">Nom du cookie</th>
                <th class="py-2 px-4 border-b">Finalité</th>
                <th class="py-2 px-4 border-b">Durée de conservation</th>
                <th class="py-2 px-4 border-b">Type</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="py-2 px-4 border-b">session_id</td>
                <td class="py-2 px-4 border-b"
                  >Gestion de la session utilisateur</td
                >
                <td class="py-2 px-4 border-b">Session</td>
                <td class="py-2 px-4 border-b">Strictement nécessaire</td>
              </tr>
              <tr>
                <td class="py-2 px-4 border-b">cookie_consent</td>
                <td class="py-2 px-4 border-b"
                  >Mémorisation des choix en matière de cookies</td
                >
                <td class="py-2 px-4 border-b">1 an</td>
                <td class="py-2 px-4 border-b">Strictement nécessaire</td>
              </tr>
              <tr>
                <td class="py-2 px-4 border-b">language</td>
                <td class="py-2 px-4 border-b"
                  >Mémorisation de la langue choisie</td
                >
                <td class="py-2 px-4 border-b">1 an</td>
                <td class="py-2 px-4 border-b">Fonctionnel</td>
              </tr>
              <tr>
                <td class="py-2 px-4 border-b">_ga</td>
                <td class="py-2 px-4 border-b"
                  >Mesure d'audience (Google Analytics)</td
                >
                <td class="py-2 px-4 border-b">2 ans</td>
                <td class="py-2 px-4 border-b">Analytique</td>
              </tr>
              <tr>
                <td class="py-2 px-4 border-b">_gid</td>
                <td class="py-2 px-4 border-b"
                  >Mesure d'audience (Google Analytics)</td
                >
                <td class="py-2 px-4 border-b">24 heures</td>
                <td class="py-2 px-4 border-b">Analytique</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="mb-12">
        <h2 class="text-2xl font-semibold text-gray-800 welcome-font mb-4">
          Comment gérer vos préférences en matière de cookies ?
        </h2>

        <h3 class="text-xl font-semibold text-gray-700 welcome-font mb-2 mt-6">
          Via notre bandeau cookies
        </h3>
        <p>
          Lors de votre première visite sur notre site, un bandeau vous informe
          de la présence de cookies et vous invite à indiquer vos préférences.
          Ce bandeau vous permet d'accepter ou de refuser les cookies selon leur
          finalité.
        </p>
        <p>
          Vous pouvez à tout moment modifier vos préférences en cliquant sur le
          lien "Gérer mes cookies" présent en bas de chaque page de notre site.
        </p>

        <h3 class="text-xl font-semibold text-gray-700 welcome-font mb-2 mt-6">
          Via les paramètres de votre navigateur
        </h3>
        <p>
          Vous pouvez configurer votre navigateur pour qu'il accepte ou refuse
          tous les cookies, vous avertisse quand un cookie est émis, vous
          permette de gérer la durée de vie de vos cookies et supprime vos
          cookies périodiquement.
        </p>
        <p>
          Chaque navigateur étant différent, nous vous invitons à consulter le
          menu d'aide de votre navigateur pour configurer vos préférences en
          matière de cookies :
        </p>
        <ul>
          <li>
            <a
              href="https://support.google.com/chrome/answer/95647"
              target="_blank"
              rel="noopener noreferrer"
              class="text-info hover:text-info/80">Google Chrome</a
            >
          </li>
          <li>
            <a
              href="https://support.mozilla.org/fr/kb/activer-desactiver-cookies"
              target="_blank"
              rel="noopener noreferrer"
              class="text-info hover:text-info/80">Mozilla Firefox</a
            >
          </li>
          <li>
            <a
              href="https://support.microsoft.com/fr-fr/microsoft-edge/supprimer-les-cookies-dans-microsoft-edge-63947406-40ac-c3b8-57b9-2a946a29ae09"
              target="_blank"
              rel="noopener noreferrer"
              class="text-info hover:text-info/80">Microsoft Edge</a
            >
          </li>
          <li>
            <a
              href="https://support.apple.com/fr-fr/guide/safari/sfri11471/mac"
              target="_blank"
              rel="noopener noreferrer"
              class="text-info hover:text-info/80">Safari</a
            >
          </li>
          <li>
            <a
              href="https://help.opera.com/en/latest/web-preferences/#cookies"
              target="_blank"
              rel="noopener noreferrer"
              class="text-info hover:text-info/80">Opera</a
            >
          </li>
        </ul>

        <div class="bg-gray-100 p-6 rounded-lg mt-6">
          <h3 class="text-xl font-semibold text-gray-700 welcome-font mb-2">
            Paramétrer vos cookies
          </h3>
          <p class="mb-4">
            Vous pouvez choisir les catégories de cookies que vous acceptez sur
            notre site :
          </p>

          <div class="space-y-4">
            <div class="flex items-center">
              <input
                type="checkbox"
                id="necessary"
                name="necessary"
                checked
                disabled
                class="h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"
              />
              <label for="necessary" class="ml-2 block text-sm text-gray-900">
                Cookies strictement nécessaires (obligatoires)
              </label>
            </div>

            <div class="flex items-center">
              <input
                type="checkbox"
                id="functional"
                name="functional"
                class="h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"
              />
              <label for="functional" class="ml-2 block text-sm text-gray-900">
                Cookies fonctionnels
              </label>
            </div>

            <div class="flex items-center">
              <input
                type="checkbox"
                id="analytics"
                name="analytics"
                class="h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"
              />
              <label for="analytics" class="ml-2 block text-sm text-gray-900">
                Cookies analytiques
              </label>
            </div>

            <div class="flex items-center">
              <input
                type="checkbox"
                id="advertising"
                name="advertising"
                class="h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"
              />
              <label for="advertising" class="ml-2 block text-sm text-gray-900">
                Cookies publicitaires
              </label>
            </div>

            <div class="flex items-center">
              <input
                type="checkbox"
                id="social"
                name="social"
                class="h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"
              />
              <label for="social" class="ml-2 block text-sm text-gray-900">
                Cookies de réseaux sociaux
              </label>
            </div>
          </div>

          <div class="mt-6 flex space-x-4">
            <button
              type="button"
              class="px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
            >
              Tout accepter
            </button>
            <button
              type="button"
              class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
            >
              Tout refuser
            </button>
            <button
              type="button"
              class="px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
            >
              Enregistrer mes préférences
            </button>
          </div>
        </div>
      </section>

      <section class="mb-12">
        <h2 class="text-2xl font-semibold text-gray-800 welcome-font mb-4">
          Conséquences du refus des cookies
        </h2>
        <p>
          Si vous refusez l'installation ou l'utilisation de certains cookies,
          nous ne pourrons pas vous garantir l'accès à tous les services de
          notre site. Certaines fonctionnalités pourraient être altérées et vous
          pourriez ne pas être en mesure d'utiliser pleinement toutes les
          possibilités offertes par notre site.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-gray-800 welcome-font mb-4">
          Modifications de la politique de gestion des cookies
        </h2>
        <p>
          Nous nous réservons le droit de modifier cette politique de gestion
          des cookies à tout moment. Toute modification prendra effet
          immédiatement. Nous vous encourageons donc à consulter régulièrement
          cette page pour prendre connaissance des éventuelles modifications.
        </p>
        <p>Dernière mise à jour : [Date de dernière mise à jour]</p>
      </section>
    </div>
  </main>
</Layout>

<script>
  // Script pour la gestion des cookies (à implémenter)
  document.addEventListener("DOMContentLoaded", () => {
    const acceptAllBtn = document.querySelector("button:nth-of-type(1)");
    const rejectAllBtn = document.querySelector("button:nth-of-type(2)");
    const savePrefsBtn = document.querySelector("button:nth-of-type(3)");

    if (acceptAllBtn) {
      acceptAllBtn.addEventListener("click", () => {
        document
          .querySelectorAll('input[type="checkbox"]:not([disabled])')
          .forEach((checkbox) => {
            if (checkbox instanceof HTMLInputElement) {
              checkbox.checked = true;
            }
          });
        alert("Tous les cookies ont été acceptés");
      });
    }

    if (rejectAllBtn) {
      rejectAllBtn.addEventListener("click", () => {
        document
          .querySelectorAll('input[type="checkbox"]:not([disabled])')
          .forEach((checkbox) => {
            if (checkbox instanceof HTMLInputElement) {
              checkbox.checked = false;
            }
          });
        alert(
          "Tous les cookies ont été refusés (sauf les cookies nécessaires)"
        );
      });
    }

    if (savePrefsBtn) {
      savePrefsBtn.addEventListener("click", () => {
        const functionalEl = document.getElementById("functional");
        const analyticsEl = document.getElementById("analytics");
        const advertisingEl = document.getElementById("advertising");
        const socialEl = document.getElementById("social");

        const preferences = {
          functional:
            functionalEl instanceof HTMLInputElement
              ? functionalEl.checked
              : false,
          analytics:
            analyticsEl instanceof HTMLInputElement
              ? analyticsEl.checked
              : false,
          advertising:
            advertisingEl instanceof HTMLInputElement
              ? advertisingEl.checked
              : false,
          social:
            socialEl instanceof HTMLInputElement ? socialEl.checked : false,
        };

        // Ici, vous pourriez enregistrer ces préférences dans un cookie ou localStorage
        console.log("Préférences enregistrées:", preferences);
        alert("Vos préférences ont été enregistrées");
      });
    }
  });
</script>
